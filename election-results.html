<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Ajax Demo</title>
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" type="text/css" rel="stylesheet"/>
    <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
  </head>
  <body>
    <div class="container">
      <a href="index.html" class="main-menu">Home</a>
      <a href="election-results.html" class="main-menu">Election Results</a>
      <div id="notification-bar">...help...</div>
      <div class="page">
        <h1>Election Results</h1>
        <div id="summary">
          <div><h2 id="election">ElectionName - 07/04/1776</h2></div>
          <div>Last Updated: <span id="updated">0</span></div>
          <div>Total Registered Voters in Precincts Voting: <span id="voting">0</span></div>
          <div>Ballots Counted: <span id="counted">0</span></div>
          <div>Registered Voter Turnout: <span id="turnout">0</span></div>
          <div>Precincts Complete: <span id="complete">0 of 0</span></div>
        </div>
        
        <div id="details">
          
        </div>
      </div>
    </div>
    
    <script>
      $(document).ready(function(event) {
        // Election Results - Summary
        $.ajax("http://ccmtprod08.canyonco.org/Election/ResultSummary", {
          success: function(data) {
            if (!data.Error) {
              $("#election").text(data.ElectionName + ' - ' + data.ElectionDate);
              $("#updated").text(data.LastUpdated);
              $("#voting").text(data.TotalVoters);
              $("#counted").text(data.BallotsCounted);
              $("#turnout").text(data.VoterTurnout);
              $("#complete").html('<span id="totalcounted">' + data.PrecinctsComplete.replace(' ', '</span> '));
            } else {
              alert("Result Summary Error: " + data.Error);
              $("#summary").hide();
            }
          },
          error: function(err) {
            alert(err);
          }
        });
      });
    </script>
  </body>
</html>